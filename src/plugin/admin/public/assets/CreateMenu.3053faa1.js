var m=(a,c,o)=>new Promise((i,r)=>{var l=t=>{try{s(o.next(t))}catch(e){r(e)}},n=t=>{try{s(o.throw(t))}catch(e){r(e)}},s=t=>t.done?i(t.value):Promise.resolve(t.value).then(l,n);s((o=o.apply(a,c)).next())});import{B as h}from"./BasicForm.1fff6f7d.js";import{B as b,a as B}from"./index.aafb2f3b.js";import{aJ as M,r as f,a as _,aL as u,o as g,aM as v,p as P,i as k,j as S,b8 as C,eZ as F,e_ as w,x as y}from"./index.02bbedaf.js";import"./index.47561936.js";import"./index.9a84248c.js";import"./_baseIteratee.2b89f8d1.js";import"./index.441385e5.js";import"./index.2a917be4.js";import"./index.5be6cedd.js";import"./index.29c90a5d.js";import"./index.d5cdfa6a.js";import"./index.125d35f2.js";import"./index.00a4dc86.js";import"./uniqBy.e456814b.js";import"./download.d180e438.js";import"./index.4792e25b.js";import"./useWindowSizeFn.c5b50549.js";import"./FullscreenOutlined.a5f55a02.js";const d=f(null),O=_({components:{BasicForm:h,BasicModal:b},emits:["reload","register"],setup(a,{emit:c}){const o=f(""),i=[{field:"name",component:"Input",label:"name",colProps:{span:24},required:!0},{field:"pid",component:"ApiTreeSelect",label:"Super Menu",componentProps:{api:F,resultField:"list"},colProps:{span:24}},{field:"icon",component:"IconPicker",label:"icon",colProps:{span:24}},{field:"overwrite",component:"Checkbox",label:"Force Override",colProps:{span:24}}],[r,{closeModal:l}]=B(e=>m(this,null,function*(){var p;o.value=e.table,(p=d.value)==null||p.appendSchemaByField({field:"table",component:"Input",label:"",colProps:{span:0},componentProps:{hidden:!0},defaultValue:o},"")})),{createMessage:n}=y(),{success:s}=n;return{formElRef:d,handleSubmit:()=>m(this,null,function*(){try{const e=d.value;if(!e)return;const p=yield e.validate();yield w(p),l(),s("Successful operation"),c("reload")}catch(e){console.log(e)}}),schemas:i,register:r}}}),$={class:"mt-3"};function I(a,c,o,i,r,l){const n=u("BasicForm"),s=u("BasicModal");return g(),v(s,C(a.$attrs,{destroyOnClose:"",onRegister:a.register,title:"One-click menu generation",onOk:a.handleSubmit}),{default:P(()=>[k("div",$,[S(n,{schemas:a.schemas,ref:"formElRef",labelWidth:75,showActionButtonGroup:!1},null,8,["schemas"])])]),_:1},16,["onRegister","onOk"])}var U=M(O,[["render",I]]);export{U as default};
